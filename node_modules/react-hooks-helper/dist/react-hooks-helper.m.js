import{useState as n,useEffect as e}from"react";var t=function(e){var t=n(!!e),r=t[1];return[t[0],function(){return r(function(n){return!n})}]},r=function(n,e){return n[e]},i=function(e){var t=n(e),i=t[1];return[t[0],function(n){var e=n.target,t=e.name,o=e.value,u=e.checked,a="checkbox"===e.type;i(function(n){var e=JSON.parse(JSON.stringify(n)),i=t.split("."),c=i.slice(0,-1),s=i.slice(-1)[0];return c.reduce(r,e)[s]=a?u:o,e})}]},o=function(n){throw new Error(n)},u=function(n,e){return n.findIndex(function(n){return n.id===e})},a=function(t){var r=t.initialStep;void 0===r&&(r=0);var i=t.autoAdvanceDuration;void 0===i&&(i=0);var a=t.steps;"production"!==process.env.NODE_ENV&&(Array.isArray(a)||Number.isInteger(a)||o("useStep: You must specify either an array or an integer for `steps`"));var c="number"==typeof a?new Array(a).fill({}):a,s="number"==typeof r?r:u(c,r);"production"!==process.env.NODE_ENV&&"string"==typeof r&&-1===s&&o('useStep: id of "'+r+'" specified in initialStep not found in steps');var f=n(s),p=f[0],v=f[1],d=n(!1),l=d[0],g=d[1],y=c[p],m=y.autoAdvanceDuration;void 0===m&&(m=i);var N=function(n){void 0===n&&(n=1),v((p+c.length+n)%c.length)};return e(function(){var n=!l&&m?setTimeout(N,m):null;return function(){return clearTimeout(n)}},[p,l]),{autoAdvanceDuration:m,isPaused:l,index:p,step:y,navigation:{next:function(){return N(1)},previous:function(){return N(-1)},go:function(n){if("number"==typeof n)"production"!==process.env.NODE_ENV&&(n<0||n>c.length)&&o("useStep: Index out of range in go("+n+")"),v(n);else{var e=u(c,n);"production"!==process.env.NODE_ENV&&-1===e&&o('useStep: go("'+n+'") not found in steps'),v(e)}},play:function(){return g(!1)},pause:function(){return g(!0)}}}},c=function(n,e){void 0===n&&(n=0),void 0===e&&(e=[5e3,4e3,1e3]);var t=e.map(function(n){return{autoAdvanceDuration:n}});return a({initialStep:n,steps:t}).index};export{t as useNot,i as useForm,c as useTrafficLight,a as useStep};
